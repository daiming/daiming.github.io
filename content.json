{"meta":{"title":"明哥的时空","subtitle":"","description":"","author":"daiming","url":"https://daiming.github.io","root":"/"},"pages":[{"title":"categories","date":"2019-12-20T01:46:21.000Z","updated":"2019-12-20T01:46:54.412Z","comments":true,"path":"categories/index.html","permalink":"https://daiming.github.io/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2019-12-20T02:01:05.000Z","updated":"2019-12-20T02:01:31.312Z","comments":true,"path":"tags/index.html","permalink":"https://daiming.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"ubuntu的ufw配置","slug":"ubuntu的ufw配置","date":"2019-12-19T07:35:35.000Z","updated":"2019-12-20T05:57:27.863Z","comments":true,"path":"2019/12/19/ubuntu的ufw配置/","link":"","permalink":"https://daiming.github.io/2019/12/19/ubuntu%E7%9A%84ufw%E9%85%8D%E7%BD%AE/","excerpt":"ufw默认是没有启用的。也就是说， ubuntu中的端口默认都是开放的。使用如下命令启动ufw： 1$sudo ufw default deny2$sudo ufw enable","text":"ufw默认是没有启用的。也就是说， ubuntu中的端口默认都是开放的。使用如下命令启动ufw： 1$sudo ufw default deny2$sudo ufw enable 安装防火墙Ubuntu的防火墙默认已安装，若无意中卸载，执行以下命令安装 1sudo apt-get install ufw #安装 启动、禁用、重置UFW 1sudo ufw enable #开启防火墙2sudo ufw disable #关闭防火墙3sudo ufw reset #重置防火墙 查看防火墙状态 1sudo ufw status2sudo ufw status numbered # 按编号显示 设置默认策略默认策略即为拒绝所有传入连接，允许所有传出链接 1sudo ufw default deny incoming2sudo ufw default allow outgoing3#转换日志状态4sudo ufw logging on|off5#设置默认策略6sudo ufw default allow|deny 允许SSH连接（重要！） 否则你将无法连接云服务器… 1#以下两条命令效果是一样的2sudo ufw allow ssh3sudo ufw allow 22 允许特定单个端口连接 1sudo ufw allow 802sudo ufw allow http 指定网络接口：假如你的 eth0 为公网地址，你同事需要向外开放 80 端口，你可以如下操作： 1sudo ufw allow in on eth0 to any port 80 另外，假如你想你的 MySQL 服务器（监听 3306）只接受通过内网网卡 eth1 的请求，你可以这样： 1sudo ufw allow in on eth1 to any port 3306 允许特定端口范围连接 1sudo ufw allow 1000:2000/tcp2sudo ufw allow 2001:3000/udp 允许特定IP地址链接 1#允许特定IP所有端口的连接2sudo ufw allow from 111.111.111.1113#允许特定IP特定端口的连接4sudo ufw allow from 111.111.111.111 to any port 225#允许某个网段的主机访问6sudo ufw allow from 192.168.1.1/24 to any port 112117sudo ufw allow proto udp 192.168.0.1 port 53 to 192.168.0.2 port 538#打开来自192.168.0.1的tcp请求的22端口：9$sudo ufw allow proto tcp from 192.168.0.1 to any port 22 拒绝特定连接如果设置的默认安全策略是允许全部传入连接，则可以设置拒绝连接规则 1#拒绝http连接2sudo ufw deny http3#执行禁止IP命令4sudo ufw deny/allow from 192.168.31.1 （即：禁止/允许192.168.31.1这个IP访问所有的本机端口）5#UFW同时支持出入口过滤。用户可以使用in或out来指定向内还是向外。如果未指定，默认是in 6sudo ufw allow in http # 许可访问本机http端口7sudo ufw reject out smtp # 禁止访问外部smtp端口，不告知“被防火墙阻止”8sudo ufw deny out to 192.168.1.1 # 禁止本机对192.168.1.1对外访问，告知“被防火墙阻止”9sudo ufw delete deny 80/tcp # 要删除规则，只要在命令中加入delete就行了 删除规则 1#按规则编号防火墙规则2sudo ufw status numbered3#按规则编号删除防火墙规则4sudo ufw delete 15#更改文件来配置防火墙6/etc/ufw/user.rules 使用IPv6 如果你的 Ubuntu 服务器已启用 IPv6，为了确保 UFW 能支持 IPv6 协议。 打开 UFW 的相关配置，使用你最喜欢的编辑器，这里我使用 vi ： sudo vi /etc/default/ufw然后，确认 IPv6 是否设置成 yes，如果没有则设置为 yes，大致如下： 1...2IPV6=yes3... ————————————————原文链接：https://blog.csdn.net/fox_wayen/article/details/90646533————————————————","categories":[{"name":"Linux","slug":"Linux","permalink":"https://daiming.github.io/categories/Linux/"},{"name":"Ubuntu","slug":"Linux/Ubuntu","permalink":"https://daiming.github.io/categories/Linux/Ubuntu/"},{"name":"Debain","slug":"Linux/Debain","permalink":"https://daiming.github.io/categories/Linux/Debain/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://daiming.github.io/tags/Linux/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://daiming.github.io/tags/Ubuntu/"},{"name":"Debain","slug":"Debain","permalink":"https://daiming.github.io/tags/Debain/"}]},{"title":"挂载镜像为本地YUM源","slug":"挂载镜像为本地YUM源","date":"2019-12-01T14:23:30.000Z","updated":"2019-12-20T05:57:38.573Z","comments":true,"path":"2019/12/01/挂载镜像为本地YUM源/","link":"","permalink":"https://daiming.github.io/2019/12/01/%E6%8C%82%E8%BD%BD%E9%95%9C%E5%83%8F%E4%B8%BA%E6%9C%AC%E5%9C%B0YUM%E6%BA%90/","excerpt":"当服务器无法访问公网或者特殊情况需要安装镜像中的软件时，可以采用将下载的带软件库的镜像文件直接挂载为软件安装的源。本示例采用CentOS7为例说明。","text":"当服务器无法访问公网或者特殊情况需要安装镜像中的软件时，可以采用将下载的带软件库的镜像文件直接挂载为软件安装的源。本示例采用CentOS7为例说明。 将镜像文件（例如：centos7.iso）拷贝至Linux文件目录，如/usr/local/src： 1#挂载需要的目标目录2mkdir /media/centos73#将镜像挂载到目标目录4mount /usr/local/src/centos7.iso /media/centos75#删除centos7默认的软件源配置文件，删除之前最好先备份6rm -rf /etc/yum.repos.d/*7#编辑新建软件源配置文件8vi /etc/yum.repos.d/centos7-localsource.repo 9 如果需要长期挂载，还需要修改挂载文件，具体参考Linux磁盘挂载方法。ISO文件挂载一般设置格式为iso9660。 打开的编辑窗中输入以下内容： centos7-localsource.repo1[centos7-localsource]2name&#x3D;centos73baseurl&#x3D;file:&#x2F;&#x2F;&#x2F;media&#x2F;centos74enabled&#x3D;15gpgcheck&#x3D;0 编辑完成后，保存退出。 继续执行命令： 1#将服务器上的软件包信息 现在本地缓存,以提高 搜索 安装软件的速度2yum makecache3#清楚之前缓存的所有内容，软件包和headers等4yum clean all5#显示所有已经安装和可以安装的程序包6yum list 安装自己需要的软件，例如：1yum -y install net-tools*","categories":[{"name":"Linux","slug":"Linux","permalink":"https://daiming.github.io/categories/Linux/"},{"name":"CentOS","slug":"Linux/CentOS","permalink":"https://daiming.github.io/categories/Linux/CentOS/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://daiming.github.io/tags/Linux/"},{"name":"CentOS","slug":"CentOS","permalink":"https://daiming.github.io/tags/CentOS/"}]}]}